<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Imtihon Markazi</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/boxicons/2.1.4/css/boxicons.min.css">

    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true,
                tags: 'none',
                maxBuffer: 10000
            },
            svg: {
                fontCache: 'global',
                scale: 0.9
            }
        };
    </script>
    <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <!-- Navbar -->
    <header class="navbar">
        <h1 class="title">Imtihon Markazi</h1>
        <div class="profile-icon">
{#            <img src="{% static 'images/profile-icon.png' %}" alt="Profil">#}
        </div>
    </header>

    <!-- Diagnostikalar Ro‚Äòyxati -->
    <main class="container" id="diagnostika-list">
        <p class="empty-message">üìå Hozircha diagnostikalar mavjud emas.</p>
    </main>

    <!-- Imtihonni boshlash sahifasi -->
    <main class="container hidden" id="exam-container">
        <h2 class="exam-title">Imtihonni boshlash</h2>
        <div class="form-group">
            <label for="subject1">1-Fan (mutaxassislik)</label>
            <select id="subject1"></select>  
        </div>
        <div class="form-group">
            <label for="subject2">2-Fan (mutaxassislik)</label>
            <select id="subject2"></select>  
        </div>
        <div class="form-group">
            <label for="mandatory">Majburiy fanlar</label>
            <select id="mandatory" disabled>
                <option>Ona tili, Tarix, Matematika</option>
            </select>
        </div>
        <div class="form-group" id="foreign-language-container" style="display: none;">
            <label for="foreign-language">Chet tilini tanlang</label>
            <select id="foreign-language"></select>
        </div>
        <button class="start-button">Imtihonni boshlash</button>
        <button class="back-button" id="back-to-list">‚Üê Ortga</button>
    </main>

    <!-- Test sahifasi -->
    <main class="container hidden" id="test-container">
        <h2 class="exam-title">Testlar</h2>
        <div id="questions"></div>
        <div id="sticky-timer">03:00:00</div>
        <div id="test-navigation">
            <h3>DTM online test topshirish 2025</h3>
            <div id="test-buttons"></div>
        </div>
        <div id="test-footer">
            <div class="test-info">
                <div>
                    <h3 id="remaining-time">03:00:00</h3>
                    <p>Qolgan vaqt</p>
                </div>
                <div>
                    <h3 id="participant-count">0</h3>
                    <p>Ishtirokchilar</p>
                </div>
            </div>
            <button class="finish-button">Testni yakunlash</button>
        </div>
    </main>

    <!-- 1-Modal: Testni tasdiqlash -->
    <div id="finishTestModal" class="modal">
        <div class="modal-content">
            <h2>Testni yakunlaysizmi?</h2>
            <div class="modal-actions">
                <button id="cancelFinish" class="cancel-button">Yo‚Äòq</button>
                <button id="confirmFinish" class="confirm-button">Ha, yakunlayman</button>
            </div>
        </div>
    </div>

    <!-- 2-Modal: Test natijalari -->
    <!-- 2-Modal: Test natijalari -->
    <div id="testResultModal" class="modal">
        <div class="modal-content result-content">
            <h2>Testlar natijalari</h2>
    
            <!-- Natijalar jadvali (Har biri alohida ustun) -->
            <div class="result-info">
                <table class="summary-table">
                    <tr>
                        <th>Sarflangan vaqt</th>
                        <th>To‚Äòg‚Äòri javoblar</th>
                        <th>Natija %</th>
                        <th>Ball</th>
                    </tr>
                    <tr>
                        <td><span id="spent-time">0 min.</span></td>
                        <td><span id="correct-answers">0 / 90</span></td>
                        <td><span id="percentage">0%</span></td>
                        <td><span id="total-score">0</span></td>
                    </tr>
                </table>
            </div>
    
            <!-- Fanlar bo‚Äòyicha natijalar -->
            <table class="result-table">
                <thead>
                    <tr>
                        <th><span id="subject1-name">Fan 1</span></th>
                        <th><span id="subject2-name">Fan 2</span></th>
                        <th>Majburiy fanlar</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span id="subject1-correct">0</span></td>
                        <td><span id="subject2-correct">0</span></td>
                        <td><span id="mandatory-correct">0</span></td>
                    </tr>
                    <tr>
                        <td><span id="subject1-score">0</span></td>
                        <td><span id="subject2-score">0</span></td>
                        <td><span id="mandatory-score">0</span></td>
                    </tr>
                </tbody>
            </table>
    
            <!-- Do‚Äòstlarga ulashish qismi -->
            <div class="share-container">
                <p>Do‚Äòstlarga ulashing</p>
                <a href="#" class="share-button">
                    <i class='bx bxl-telegram'></i> Telegram
                </a>
            </div>
    
            <!-- Pastdagi tugmalar -->
            <div class="modal-actions">
                <button class="secondary-button">Natijalar jadvali</button>
                <button class="secondary-button">Test tahlili</button>
                <button id="exitTest" class="confirm-button">Testdan chiqish</button>
            </div>
        </div>
    </div>



    <script src="{% static 'js/script.js' %}"></script>
</body>
</html>
